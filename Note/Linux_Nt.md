Linux Note

**类Unix系统目录结构**

​	一切皆文件

​		

![类Unix系统目录结构](D:\work\Myhub\Note\Picture\类Unix系统目录结构.png)

文件信息：

```
-/xxx/xxx/xxx 1 用户组 时间
首位表示文件类型：
	-：普通文件
	d目录
	l：符号连接文件（软连接）
	b：块文件
	c：为字符设备（键盘、鼠标）
	p：管道设备
	s：本地套接字
后面三个为一组，依次为归属用户的权限，归属组的权限，归属其他用户的权限，r表示可读，w表示可写,x表示可执行，-为无权限，权限位可以写成一个八进制数，四位八进制数0XXX可以表示文件权限，称为权限位数字表示法
数字为硬连接计数
硬连接：使用同一块磁盘区域
软连接：类似于快捷方式
```

**指令意义**

```
用户名@机器名:~/当前目录$
~表示用户家目录，例如：/home/leonardo
$表示当前权限为一般用户，若为管理员，显示#
```



**常用指令**

```
sudo su		//切换到管理员

查看：
    history		//查看历史指令
    ls <目录>	   //查看文件信息， -R 显示文件具体结构
    pwd			//显示当前工作目录
    tree <目录>  //显示文件树
    cat	<文件>	//直接显示文件信息
    more/less 	//查看文件（和cat相似）
    head/tail	//显示头/尾文件内容，默认显示10行， -n参数指定行数。tail的-f参数能实时显示文件尾的变动

操作：
    mkdir		//创建目录，支持同时创建多个目录，用空格分隔。-p 递归的创建多个目录
    rmdir <目录>	//删除目录，只能删除空目录，支持同时删除多个目录，用空格分隔。 -p从子目录递归删除空目录
    rm <文件>		//删除文件， -r 删除目录
    which <指令>	//显示对应指令所在位置
    touch <文件名>	//创建文件
    cp <文件> <目录> //拷贝文件到目标目录， -r 递归拷贝<目录1>到<目录2>下。若目录2最小子目录不存在则将	目录1拷贝到该位置并改名为该子目录
    cp <文件1> <文件2>	//拷贝文件1到文件2，若文件2不存在则创建
    mv	//和cp命令基本相同，但mv不保留原文件
    ln <文件1> <文件2>	//创建硬连接， -s参数创建软连接
    unlink	//删除软硬连接，当硬连接计数为0时删除文件
    chmod	//改变文件权限， u/g/o/a +/- rwx 参数表示用户/组/其他用户/所有 增加/减少 各种权限
	chown 用户:组 <文件>	//改变文件归属（需要管理员权限）

统计：
    wc	//文件统计， 显示文件的行数，单词数，字节数， 可用-l、-w、-c分别显示
    du	//查看目录占用空间，-h参数显示适合人类观看格式， --max-depth=x 参数设置显示目录深度
    df	//查看当前文件系统使用情况
```

**高级指令**

```
查找：

	命令后接 -exec + 指令 {} \;	//将查找到的内容传给后方指令
	接|xargs + 指令 	//将查找到的内容分段传给后方指令，防止溢出
	
	find dir [option] target	//在指定目录下查找目标， 
		-name “XXX(正则)”	按名字查找相应目录下的文件
		-type <类型字母>   按类型查找文件，普通文件特别用f查找
		-size 			 按大小查找
		-maxdepth X		 指定查找

	grep [option] dir/file_name	//过滤内容
		-r	递归子目录
```

